/*
 fancyBox - jQuery Plugin
 version: 2.1.4 (Thu, 10 Jan 2013)
 @requires jQuery v1.6 or later

 Examples at http://fancyapps.com/fancybox/
 License: www.fancyapps.com/fancybox/#license

 Copyright 2012 Janis Skarnelis - janis@fancyapps.com

*/
(function(E,B,f,t){var r=f(E),p=f(B),b=f.fancybox=function(){b.open.apply(this,arguments)},J=navigator.userAgent.match(/msie/),y=null,u=B.createTouch!==t,v=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},H=function(a){return q(a)&&0<a.indexOf("%")},m=function(a,d){var c=parseInt(a,10)||0;d&&H(a)&&(c*=b.getViewport()[d]/100);return Math.ceil(c)},z=function(a,b){return m(a,b)+"px"};f.extend(b,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,
height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",
34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(J?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=v(a)?f(a).get():[a]),f.each(a,function(c,e){var k={},g,l,h,n,m;"object"===f.type(e)&&(e.nodeType&&(e=f(e)),v(e)?(k={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),id:e.attr("id"),isDom:!0,element:e},f.metadata&&
f.extend(!0,k,e.metadata())):k=e);g=d.href||k.href||(q(e)?e:null);l=d.title!==t?d.title:k.title||"";n=(h=d.content||k.content)?"html":d.type||k.type;!n&&k.isDom&&(n=e.data("fancybox-type"),n||(n=(n=e.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));q(g)&&(n||(b.isImage(g)?n="image":b.isSWF(g)?n="swf":"#"===g.charAt(0)?n="inline":q(e)&&(n="html",h=e)),"ajax"===n&&(m=g.split(/\s+/,2),g=m.shift(),m=m.shift()));h||("inline"===n?g?h=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(h=e):"html"===n?
h=g:n||g||!k.isDom||(n="inline",h=e));f.extend(k,{href:g,type:n,content:h,title:l,selector:m});a[c]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==t&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,
b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(b.isOpen&&!0!==a?(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]()):(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},c=function(){d();b.current&&b.player.isActive&&
(b.player.timer=setTimeout(b.next,b.current.playSpeed))},e=function(){d();f("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};!0===a||!b.player.isActive&&!1!==a?b.current&&(b.current.loop||b.current.index<b.group.length-1)&&(b.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":c,"onCancel.player beforeClose.player":e,"beforeLoad.player":d}),c(),b.trigger("onPlayStart")):e()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,
a,"next"))},prev:function(a){var d=b.current;d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,c){var e=b.current;e&&(a=m(a),b.direction=d||e.direction[a>=e.index?"next":"prev"],b.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==t&&(b.cancel(),b._start(a)))},reposition:function(a,d){var c=b.current,e=c?c.wrap:null,k;e&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,e.stop(!0,!0).animate(k,200)):(e.css(k),
c.pos=f.extend({},c.dim,k)))},update:function(a){var d=a&&a.type,c=!d||"orientationchange"===d;c&&(clearTimeout(y),y=null);b.isOpen&&!y&&(y=setTimeout(function(){var e=b.current;e&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(c||"load"===d||"resize"===d&&e.autoResize)&&b._setDimension(),"scroll"===d&&e.canShrink||b.reposition(a),b.trigger("onUpdate"),y=null)},c&&!u?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,u&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),
b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),b.cancel())});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:.5*d.h+d.y,left:.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,
d={x:r.scrollLeft(),y:r.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=u&&E.innerWidth?E.innerWidth:r.width(),d.h=u&&E.innerHeight?E.innerHeight:r.height());return d},unbindEvents:function(){b.wrap&&v(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");r.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(c){var e=c.which||c.keyCode,k=c.target||
c.srcElement;if(27===e&&b.coming)return!1;c.ctrlKey||c.altKey||c.shiftKey||c.metaKey||k&&(k.type||f(k).is("[contenteditable]"))||f.each(d,function(d,k){if(1<a.group.length&&k[e]!==t)return b[d](k[e]),c.preventDefault(),!1;if(-1<f.inArray(e,k))return b[d](),c.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,e,k,g){for(var c=f(d.target||null),h=!1;c.length&&!(h||c.is(".fancybox-skin")||c.is(".fancybox-wrap"));)h=(h=c[0])&&!(h.style.overflow&&"hidden"===h.style.overflow)&&
(h.clientWidth&&h.scrollWidth>h.clientWidth||h.clientHeight&&h.scrollHeight>h.clientHeight),c=f(c).parent();0!==e&&!h&&1<b.group.length&&!a.canShrink&&(0<g||0<k?b.prev(0<g?"down":"left"):(0>g||0>k)&&b.next(0>g?"up":"right"),d.preventDefault())}))},trigger:function(a,d){var c,e=d||b.coming||b.current;if(e){f.isFunction(e[a])&&(c=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===c)return!1;e.helpers&&f.each(e.helpers,function(d,c){c&&b.helpers[d]&&f.isFunction(b.helpers[d][a])&&(c=f.extend(!0,
{},b.helpers[d].defaults,c),b.helpers[d][a](c,e))});f.event.trigger(a+".fb")}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},c,e;a=m(a);c=b.group[a]||null;if(!c)return!1;d=f.extend(!0,{},b.opts,c);c=d.margin;e=d.padding;"number"===f.type(c)&&(d.margin=[c,c,c,c]);"number"===f.type(e)&&(d.padding=[e,e,e,e]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,
nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{e=d.type;c=d.href;if(!e)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===e||"swf"===e)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";
"image"===e&&(d.aspectRatio=!0);"iframe"===e&&u&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+e+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,z(d.padding[a]))});b.trigger("onReady");if("inline"===e||"html"===e){if(!d.content||!d.content.length)return b._error("content")}else if(!c)return b._error("href");
"image"===e?b._loadImage():"ajax"===e?b._loadAjax():"iframe"===e?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width;b.coming.height=this.height;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};
a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,c){b.coming&&"abort"!==c?b._error("ajax",a):b.hideLoading()},success:function(d,c){"success"===c&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src",
"//about:blank").end().empty()}catch(c){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);u||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,c=a.length,e=d.preload?Math.min(d.preload,c-1):0,f,g;for(g=1;g<=e;g+=1)f=a[(d.index+g)%c],"image"===f.type&&f.href&&((new Image).src=
f.href)},_afterLoad:function(){var a=b.coming,d=b.current,c,e,k,g,l;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();c=a.content;e=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(e){case "inline":case "ajax":case "html":a.selector?
c=f("<div>").html(c).find(a.selector):v(c)&&(c.data("fancybox-placeholder")||c.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(c).hide()),c=c.show().detach(),a.wrap.bind("onReset",function(){f(this).find(c).length&&c.hide().replaceAll(c.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case "image":c=a.tpl.image.replace("{href}",g);break;case "swf":c='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+
g+'"></param>',l="",f.each(a.swf,function(a,b){c+='<param name="'+a+'" value="'+b+'"></param>';l+=" "+a+'="'+b+'"'}),c+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}v(c)&&c.parent().is(a.inner)||a.inner.append(c);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(!b.isOpened)f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();
else if(d.prevMethod)b.transitions[d.prevMethod]();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,c,e=b.wrap,k=b.skin,g=b.inner,l=b.current;c=l.width;var h=l.height,n=l.minWidth,w=l.minHeight,p=l.maxWidth,x=l.maxHeight,u=l.scrolling,r=l.scrollOutside?l.scrollbarWidth:0,A=l.margin,q=m(A[1]+A[3]),t=m(A[0]+A[2]),B,C,v,F,D,I,E,G,y;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");A=m(k.outerWidth(!0)-
k.width());B=m(k.outerHeight(!0)-k.height());C=q+A;v=t+B;F=H(c)?(a.w-C)*m(c)/100:c;D=H(h)?(a.h-v)*m(h)/100:h;if("iframe"===l.type){if(y=l.content,l.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(g.width(F).height(9999),I=y.contents().find("body"),r&&I.css("overflow-x","hidden"),D=I.height())}catch(K){}}else if(l.autoWidth||l.autoHeight)g.addClass("fancybox-tmp"),l.autoWidth||g.width(F),l.autoHeight||g.height(D),l.autoWidth&&(F=g.width()),l.autoHeight&&(D=g.height()),g.removeClass("fancybox-tmp");
c=m(F);h=m(D);G=F/D;n=m(H(n)?m(n,"w")-C:n);p=m(H(p)?m(p,"w")-C:p);w=m(H(w)?m(w,"h")-v:w);x=m(H(x)?m(x,"h")-v:x);I=p;E=x;l.fitToView&&(p=Math.min(a.w-C,p),x=Math.min(a.h-v,x));C=a.w-q;t=a.h-t;l.aspectRatio?(c>p&&(c=p,h=m(c/G)),h>x&&(h=x,c=m(h*G)),c<n&&(c=n,h=m(c/G)),h<w&&(h=w,c=m(h*G))):(c=Math.max(n,Math.min(c,p)),l.autoHeight&&"iframe"!==l.type&&(g.width(c),h=g.height()),h=Math.max(w,Math.min(h,x)));if(l.fitToView)if(g.width(c).height(h),e.width(c+A),a=e.width(),q=e.height(),l.aspectRatio)for(;(a>
C||q>t)&&c>n&&h>w&&!(19<d++);)h=Math.max(w,Math.min(x,h-10)),c=m(h*G),c<n&&(c=n,h=m(c/G)),c>p&&(c=p,h=m(c/G)),g.width(c).height(h),e.width(c+A),a=e.width(),q=e.height();else c=Math.max(n,Math.min(c,c-(a-C))),h=Math.max(w,Math.min(h,h-(q-t)));r&&"auto"===u&&h<D&&c+A+r<C&&(c+=r);g.width(c).height(h);e.width(c+A);a=e.width();q=e.height();d=(a>C||q>t)&&c>n&&h>w;c=l.aspectRatio?c<I&&h<E&&c<F&&h<D:(c<I||h<E)&&(c<F||h<D);f.extend(l,{dim:{width:z(a),height:z(q)},origWidth:F,origHeight:D,canShrink:d,canExpand:c,
wPadding:A,hPadding:B,wrapSpace:q-k.outerHeight(!0),skinSpace:k.height()-h});!y&&l.autoHeight&&h>w&&h<x&&!c&&g.height("auto")},_getPosition:function(a){var d=b.current,c=b.getViewport(),e=d.margin,f=b.wrap.width()+e[1]+e[3],g=b.wrap.height()+e[0]+e[2],e={position:"absolute",top:e[0],left:e[3]};d.autoCenter&&d.fixed&&!a&&g<=c.h&&f<=c.w?e.position="fixed":d.locked||(e.top+=c.y,e.left+=c.x);e.top=z(Math.max(e.top,e.top+(c.h-g)*d.topRatio));e.left=z(Math.max(e.left,e.left+(c.w-f)*d.leftRatio));return e},
_afterZoomIn:function(){var a=b.current;a&&((b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){f(d.target).is("a")||f(d.target).parent().is("a")||(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&
f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),a.loop||a.index!==a.group.length-1)?b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()):b.play(!1))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,
inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,c=a.orig,e={},f=50,g=50,l=a.hPadding,h=a.wPadding,n=b.getViewport();!c&&a.isDom&&d.is(":visible")&&(c=d.find("img:first"),c.length||(c=d));v(c)?(e=c.offset(),c.is("img")&&(f=c.outerWidth(),g=c.outerHeight())):(e.top=n.y+(n.h-g)*a.topRatio,e.left=n.x+(n.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)e.top-=n.y,e.left-=n.x;return e={top:z(e.top-l*a.topRatio),left:z(e.left-
h*a.leftRatio),width:z(f+h),height:z(g+l)}},step:function(a,d){var c,e,f=d.prop;e=b.current;var g=e.wrapSpace,l=e.skinSpace;if("width"===f||"height"===f)c=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(c=1-c),e="width"===f?e.wPadding:e.hPadding,e=a-e,b.skin[f](m("width"===f?e:e-g*c)),b.inner[f](m("width"===f?e:e-g*c-l*c))},zoomIn:function(){var a=b.current,d=a.pos,c=a.openEffect,e="elastic"===c,k=f.extend({opacity:1},d);delete k.position;e?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=
.1)):"fade"===c&&(d.opacity=.1);b.wrap.css(d).animate(k,{duration:"none"===c?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,c="elastic"===d,e={opacity:.1};c&&(e=this.getOrigPosition(),a.closeOpacity&&(e.opacity=.1));b.wrap.animate(e,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,c=a.pos,e={opacity:1},f=
b.direction,g;c.opacity=.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(c[g]=z(m(c[g])-200),e[g]="+=200px"):(c[g]=z(m(c[g])+200),e[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(c).animate(e,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,c={opacity:.1},e=b.direction;"elastic"===d&&(c["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px");a.wrap.animate(c,{duration:"none"===
d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},
this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(r.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){f(a.target).hasClass("fancybox-overlay")&&(b.isActive?b.close():d.close())});this.overlay.css(a.css).show()},close:function(){f(".fancybox-overlay").remove();r.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(f("body").css("margin-right",this.margin),
this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var a="100%",b;this.overlay.width(a).height("100%");J?(b=Math.max(B.documentElement.offsetWidth,B.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>r.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){f(".fancybox-overlay").stop(!0,!0);this.overlay||(this.margin=p.height()>r.height()||"scroll"===f("body").css("overflow-y")?f("body").css("margin-right"):!1,this.el=B.all&&!B.querySelector?
f("html"):f("body"),this.create(a));a.locked&&this.fixed&&(b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){b.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&f("body").css("margin-right",m(this.margin)+b.scrollbarWidth));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.isActive&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title=
{defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,c=d.title,e=d.id,k=f(".gallery_block a#"+e).attr("lk"),g=f(".gallery_block a#"+e).attr("lk_cnt"),l=a.type;f.isFunction(c)&&(c=c.call(d.element,d));if(q(c)&&""!==f.trim(c)){d="";1==k?d='<div class="fav_block"><div class="favorite_this if btn" id="favorite_this'+e+'"><span onclick="favorite_ch(\''+e+"','favorite_add','pictures');\">\u041c\u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</span></div><div class=\"like_icon like_cnt_"+
e+'">'+g+"</div></div>":2!=k&&(d='<div class="fav_block"><div class="favorite_this if fin" id="favorite_this'+e+'"><span>\u0412\u0430\u043c \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f</span></div><div class="like_icon like_cnt_'+e+'">'+g+"</div></div>");c=f(d+'<div class="fancybox-title fancybox-title-'+l+'-wrap">'+c+'</div><div class="clear"></div>');switch(l){case "inside":l=b.skin;break;case "outside":l=b.wrap;break;case "over":l=b.inner;break;default:l=b.skin,c.appendTo("body"),J&&c.width(c.width()),
c.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(m(c.css("margin-bottom")))}c["top"===a.position?"prependTo":"appendTo"](l)}}};f.fn.fancybox=function(a){var d,c=f(this),e=this.selector||"",k=function(g){var l=f(this).blur(),h=d,k,m;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||l.is(".fancybox-wrap")||(k=a.groupAttr||"data-fancybox-group",m=l.attr(k),m||(k="rel",m=l.get(0)[k]),m&&""!==m&&"nofollow"!==m&&(l=e.length?f(e):c,l=l.filter("["+k+'="'+m+'"]'),h=l.index(this)),a.index=
h,!1!==b.open(l,a)&&g.preventDefault())};a=a||{};d=a.index||0;e&&!1!==a.live?p.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k):c.unbind("click.fb-start").bind("click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){f.scrollbarWidth===t&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();
a.remove();return b});f.support.fixedPosition===t&&(f.support.fixedPosition=function(){var a=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),b=20===a[0].offsetTop||15===a[0].offsetTop;a.remove();return b}());f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")})})})(window,document,jQuery);